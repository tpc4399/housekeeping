<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.housekeeping.admin.mapper.PersonalRequestMapper">

	<update id="updateCompany">
		 UPDATE company_details
        SET
        is_personal = 0
        WHERE id = #{companyId}
	</update>

	<update id="updateCompany2">
		UPDATE company_details
        SET
        is_personal = 0,
        is_validate = 1
        WHERE id = #{companyId}
	</update>


	<select id="getAll" resultType="com.housekeeping.admin.dto.PersonalRequestDTO">
		select
		*
		from
		personal_request
		<where>
		<if test="id != null and id != ''">
			personal_request.id = #{id}
		</if>
			<if test="status != null and status != ''">
				and personal_request.status = #{status}
			</if>
			<if test="status != null and status != ''">
				and personal_request.type = #{type}
			</if>
		</where>
	</select>
</mapper>
